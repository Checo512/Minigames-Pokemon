<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivina Quién - Pokémon</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- LOGIN -->
    <div id="login-screen">
        <h1>ADIVINA QUIÉN</h1>
        <div class="login-buttons">
            <button onclick="iniciarApp('jugador1')" class="btn-p1">SOY JUGADOR 1</button>
            <button onclick="iniciarApp('jugador2')" class="btn-p2">SOY JUGADOR 2</button>
        </div>
        <button onclick="iniciarApp('moderador')" class="btn-mod">MODERADOR</button>
    </div>

    <!-- TABLERO DE JUEGO -->
    <div id="game-board" class="hidden">
        
        <!-- ZONA DE POKEMON SECRETOS (Objetivos) -->
        <div id="secret-zone">
            <div class="secret-card-container">
                <p>OBJETIVO J1</p>
                <!-- La clase 'secret-hidden' lo mantiene borroso -->
                <div id="target-p1" class="poke-card secret-hidden">
                    <span>?</span>
                </div>
            </div>
            
            <div class="vs-logo">VS</div>

            <div class="secret-card-container">
                <p>OBJETIVO J2</p>
                <div id="target-p2" class="poke-card secret-hidden">
                    <span>?</span>
                </div>
            </div>
        </div>

        <!-- ZONA DE TABLEROS 5x5 -->
        <div class="boards-container">
            
            <!-- Tablero Jugador 1 -->
            <div class="player-board-wrapper">
                <h3 id="label-p1">TABLERO JUGADOR 1</h3>
                <div id="board-p1" class="grid-5x5"></div>
            </div>

            <!-- Tablero Jugador 2 -->
            <div class="player-board-wrapper">
                <h3 id="label-p2">TABLERO JUGADOR 2</h3>
                <div id="board-p2" class="grid-5x5"></div>
            </div>

        </div>
    </div>

    <!-- PANEL MODERADOR -->
    <div id="mod-panel" class="hidden">
        <div class="mod-column">
            <label>1. LLENAR TABLERO (Max 25)</label>
            <input type="text" id="poke-search-board" list="lista-pokemon" placeholder="Agregar al tablero...">
            <button onclick="agregarAlTablero()">AGREGAR A LA MESA</button>
            <div style="font-size: 10px; margin-top: 5px;">Cartas en mesa: <span id="counter">0</span>/25</div>
        </div>

        <div class="mod-column">
            <label>2. ASIGNAR SECRETOS</label>
            <input type="text" id="poke-search-target" list="lista-pokemon" placeholder="Personaje secreto...">
            <div style="display:flex; gap:5px; width:100%;">
                <button onclick="asignarSecreto(1)" style="flex:1;">PARA J1</button>
                <button onclick="asignarSecreto(2)" style="flex:1;">PARA J2</button>
            </div>
        </div>

        <div class="mod-column">
            <label>3. REVELAR / REINICIAR</label>
            <div style="display:flex; gap:5px; width:100%;">
                <button onclick="revelar(1)" class="btn-reveal">REVELAR J1</button>
                <button onclick="revelar(2)" class="btn-reveal">REVELAR J2</button>
            </div>
            <button onclick="reiniciarJuego()" class="btn-danger" style="margin-top: 10px;">⚠ REINICIAR TODO</button>
        </div>
    </div>

    <!-- DATALIST AUTOCOMPLETADO -->
    <datalist id="lista-pokemon"></datalist>

    <!-- SONIDOS -->
    <audio id="audio-eliminated" src="incorrecto.mp3"></audio>
    <audio id="audio-restore" src="correcto.mp3"></audio>

    <!-- SCRIPTS -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="db.js"></script>
    <script src="script.js"></script>
</body>
</html>