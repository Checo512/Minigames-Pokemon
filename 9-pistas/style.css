/* =========================================
   RESET Y FUENTES
   ========================================= */
* { box-sizing: border-box; }

/* SCROLLBAR PERSONALIZADO (Estilo Pro) */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #121212; }
::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #ffcc00; }

body {
    margin: 0; padding: 0;
    background-color: #121212; 
    color: white;
    font-family: 'Chakra Petch', sans-serif;
    height: 100vh;
    overflow-y: auto; overflow-x: hidden;
    display: flex; flex-direction: column;
}

/* =========================================
   FONDO Y EFECTOS
   ========================================= */
.background-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: url('fondo.png'); 
    background-size: cover; background-position: center;
    z-index: -3;
}
.tech-grid {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 50px 50px;
    z-index: -2;
}
.scanlines {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
    background-size: 100% 4px; pointer-events: none; z-index: 9000;
}

.hidden { display: none !important; }

/* =========================================
   PANTALLA DE LOGIN
   ========================================= */
#login-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.92); z-index: 2000;
    display: flex; justify-content: center; align-items: center;
}
.login-card {
    background: #1a1a1a; border: 2px solid #3b4cca; 
    padding: 40px; width: 90%; max-width: 800px;
    box-shadow: 0 0 60px rgba(59, 76, 202, 0.4); text-align: center;
    border-radius: 10px;
}
.game-title {
    font-family: 'Press Start 2P', cursive; color: #ffcc00;
    font-size: 40px; margin-bottom: 20px; text-shadow: 4px 4px 0 #3b4cca;
}
.player-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 20px 0;
}
.btn-player {
    background: #222; color: #fff; border: 1px solid #555;
    padding: 15px 5px; font-size: 12px; cursor: pointer; font-weight: bold;
    font-family: 'Press Start 2P'; transition: 0.2s;
}
.btn-player:hover { background: #3b4cca; border-color: #fff; transform: scale(1.05); }

.btn-mod {
    width: 100%; padding: 15px; background: #ff5555; color: #fff;
    border: none; cursor: pointer; margin-top: 15px; font-family: 'Press Start 2P';
}
.separator-line { height: 1px; background: #333; margin: 20px 0; }

/* =========================================
   CÁMARAS SUPERIORES (ADAPTABLES)
   ========================================= */
#cameras-strip {
    height: 35vh; /* Altura fija para la zona de cámaras */
    width: 100%;
    display: flex; justify-content: center;
    padding: 20px; 
    background: rgba(0,0,0,0.7);
    border-bottom: 4px solid #3b4cca;
}

.camera-box {
    flex: 1; 
    background: #000; border: 2px solid #555;
    border-radius: 10px; position: relative;
    display: flex; flex-direction: column; 
    justify-content: space-between; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    overflow: hidden;
    transition: all 0.5s ease;
}

/* El hueco transparente para OBS */
.camera-hole {
    flex: 1; /* Ocupa todo el espacio disponible arriba */
    width: 100%;
    background: rgba(255, 255, 255, 0.05);
    box-shadow: inset 0 0 20px #000;
}

/* REGLAS DINÁMICAS DE SEPARACIÓN (Gap) */
.layout-2 { gap: 150px; padding: 20px 100px !important; }
.layout-2 .camera-box { max-width: 600px; border-width: 4px; }
.layout-3 { gap: 60px; padding: 20px 50px !important; }
.layout-4 { gap: 30px; }
.layout-5 { gap: 15px; }
.layout-6 { gap: 10px; }
.layout-8 { gap: 5px; }

/* Barra de puntos inferior */
.score-tag {
    background: #111; color: #aaa; padding: 8px; font-size: 12px;
    display: flex; justify-content: space-between; align-items: center;
    border-top: 1px solid #555; font-family: 'Press Start 2P';
    height: 40px; 
    position: relative; z-index: 5;
}
.score-val { color: #ffcc00; font-size: 16px; }

/* Turno Activo */
.active-turn { border-color: #ff5555; box-shadow: 0 0 40px rgba(255, 85, 85, 0.6); z-index: 10; }
.active-turn .score-tag { background: #500; color: #fff; }

/* ANIMACIÓN PUNTOS (ZONA SEGURA) */
.floating-points {
    position: absolute; 
    bottom: 5px; /* Pegado abajo */
    right: 50px; /* Al lado del puntaje actual */
    
    font-family: 'Press Start 2P'; 
    font-size: 24px; 
    font-weight: bold;
    text-shadow: 2px 2px 0 #000; 
    pointer-events: none; 
    z-index: 200; 
    
    animation: scorePop 1.5s forwards;
}

.p-plus { color: #00ff00; } 
.p-minus { color: #ff0000; }

@keyframes scorePop {
    0% { transform: translateY(10px) scale(0.5); opacity: 0; }
    15% { transform: translateY(-5px) scale(1.5); opacity: 1; }
    50% { transform: translateY(-5px) scale(1); opacity: 1; }
    100% { transform: translateY(-30px) scale(0.8); opacity: 0; }
}

/* =========================================
   ZONA DE JUEGO
   ========================================= */
.game-floor { flex: 1; display: flex; padding: 20px; gap: 40px; justify-content: center; align-items: flex-start; }

/* SILUETA (IZQUIERDA) */
.silhouette-container { width: 35%; max-width: 450px; }
.silhouette-frame {
    width: 100%; aspect-ratio: 1/1;
    background: rgba(0,0,0,0.6); border: 2px solid #555;
    position: relative; overflow: hidden;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
    display: flex; justify-content: center; align-items: center;
}
/* Esquinas decorativas */
.corner { position: absolute; width: 30px; height: 30px; border: 4px solid #ffcc00; }
.tl { top:0; left:0; border-right:none; border-bottom:none; }
.tr { top:0; right:0; border-left:none; border-bottom:none; }
.bl { bottom:0; left:0; border-right:none; border-top:none; }
.br { bottom:0; right:0; border-left:none; border-top:none; }

/* Placeholder Pokéball */
.pokeball-placeholder {
    width: 200px; height: 200px; border-radius: 50%;
    border: 10px solid #222; background: linear-gradient(to bottom, #ff5555 48%, #222 48%, #222 52%, #fff 52%);
    position: relative; animation: pulse 3s infinite;
}
.pokeball-button {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 50px; height: 50px; background: #fff; border: 6px solid #222; border-radius: 50%;
}
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

/* Imagen Revelada */
.revealed-character img { 
    width: 90%; height: 90%; object-fit: contain; 
    animation: zoomIn 0.5s; filter: drop-shadow(0 0 10px white); 
}
@keyframes zoomIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* PISTAS (DERECHA) */
.clues-container { width: 55%; max-width: 800px; display: flex; flex-direction: column; gap: 8px; }
.clues-header {
    background: #3b4cca; color: #fff; padding: 12px;
    font-family: 'Press Start 2P'; font-size: 14px;
    border: 2px solid #fff; box-shadow: 4px 4px 0 #000;
    display: flex; align-items: center; gap: 10px; margin-bottom: 10px;
}
.led { width: 12px; height: 12px; background: #ff5555; border-radius: 50%; box-shadow: 0 0 10px #ff5555; }
#clues-list { display: flex; flex-direction: column; gap: 8px; }

.clue-bar {
    background: #111; border: 1px solid #333; height: 48px;
    display: flex; align-items: center; padding-left: 20px;
    color: #555; font-size: 16px; border-radius: 4px;
}
.clue-revealed {
    background: #fff; color: #000; border-left: 8px solid #3b4cca;
    font-weight: bold; text-transform: uppercase;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); transform: scale(1.01);
}
/* Cursor parpadeante */
.cursor-blink { display: inline-block; width: 8px; height: 18px; background: #000; animation: blink 1s infinite; vertical-align: middle; margin-left: 5px; }
@keyframes blink { 50% { opacity: 0; } }

/* =========================================
   CONTROLES JUGADOR (CORREGIDO BOTÓN)
   ========================================= */
#player-controls { 
    position: fixed; bottom: 30px; right: 30px; 
    z-index: 100; 
    display: flex; flex-direction: column; align-items: center; 
}

#btn-buzzer {
    /* 1. Hacemos el botón un poco más grande */
    width: 170px; 
    height: 170px; 
    border-radius: 50%;
    
    background: radial-gradient(circle at 30% 30%, #ff5555, #cc0000);
    border: 8px solid #fff;
    color: white; 
    
    /* 2. Ajustamos la fuente para que no se salga */
    font-family: 'Press Start 2P'; 
    font-size: 11px; /* Letra más pequeña */
    line-height: 1.5; /* Espaciado entre líneas */
    
    /* 3. Centrado perfecto usando Flexbox */
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 20px; /* Margen interno de seguridad */
    
    cursor: pointer; 
    box-shadow: 0 10px 40px rgba(0,0,0,0.8);
    text-shadow: 2px 2px 0 #000;
    transition: transform 0.1s;
    
    /* Evita que se desborde */
    overflow: hidden;
    word-wrap: break-word;
}

#btn-buzzer:active { transform: scale(0.95); }
#btn-buzzer:disabled { filter: grayscale(1); cursor: not-allowed; opacity: 0.7; }

#buzzer-status { 
    background: #000; color: #ffcc00; padding: 5px 10px; 
    margin-top: 15px; border: 1px solid #fff; font-size: 10px; font-weight: bold; 
    text-align: center;
}

/* =========================================
   PANEL MODERADOR
   ========================================= */
#mod-panel {
    position: fixed; bottom: 0; left: 0; width: 100%; height: 320px;
    background: #151515; border-top: 2px solid #ffcc00; z-index: 5000;
    display: flex; flex-direction: column; font-family: sans-serif;
}
.mod-top-bar { background: #333; padding: 5px; text-align: center; color: #888; font-size: 10px; }
.mod-content { display: flex; height: 100%; padding: 15px; gap: 20px; }
.mod-section { background: #222; padding: 15px; border: 1px solid #444; overflow-y: auto; color: white; border-radius: 5px; }
.grow { flex: 1; }
.input-list { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }
input, select { background: #000; border: 1px solid #555; color: #fff; padding: 8px; width: 100%; outline: none; }
.btn-small { padding: 8px; cursor: pointer; width: 100%; margin-top: 5px; background: #444; color: white; border: none; }
.btn-go { width: 100%; background: #39ff14; padding: 10px; font-weight: bold; margin-top: 15px; cursor: pointer; border: none; color:#000; }
.btn-live { width: 100%; padding: 12px; margin-bottom: 8px; cursor: pointer; font-weight: bold; border:none; background: #eee; }
.btn-reveal { background: #ff5555; color: white; }
.buzzer-control-box { background: #2a0000; border: 1px solid #ff5555; padding: 15px; text-align: center; margin-top: 10px; border-radius: 5px; }
.validation-btns { display: flex; gap: 10px; margin-top: 10px; }
.btn-yes { flex: 1; background: #2ecc71; padding: 10px; border:none; cursor: pointer; font-weight: bold; color: #000;}
.btn-no { flex: 1; background: #ff5555; padding: 10px; border:none; cursor: pointer; font-weight: bold; color: #fff;}

/* MODALES Y TOAST */
.toast {
    position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
    background: #3b4cca; color: white; padding: 15px 30px;
    font-family: 'Press Start 2P'; font-size: 12px; border: 2px solid #fff;
    box-shadow: 0 5px 20px #000; z-index: 6000; animation: slideUp 0.3s;
}
@keyframes slideUp { from { transform: translate(-50%, 100%); } to { transform: translate(-50%, 0); } }

.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); z-index: 7000;
    display: flex; justify-content: center; align-items: center;
}
.modal-box {
    background: #111; border: 4px solid #ffcc00; padding: 30px;
    text-align: center; min-width: 300px; box-shadow: 0 0 50px rgba(255, 204, 0, 0.4);
}
.modal-btns { display: flex; gap: 10px; margin-top: 20px; justify-content: center; }
.modal-btns button { padding: 10px 20px; font-weight: bold; cursor: pointer; font-family: 'Press Start 2P'; font-size: 10px; }